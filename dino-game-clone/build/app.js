(()=>{"use strict";var e,t={933:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;class s extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"dino-run"),e.add.existing(this),e.physics.add.existing(this),this.init(),this.scene.events.on(Phaser.Scenes.Events.UPDATE,this.update,this)}init(){this.cursors=this.scene.input.keyboard.createCursorKeys(),this.setOrigin(0,1).setGravityY(5e3).setCollideWorldBounds(!0).setBodySize(44,92).setOffset(20,0).setDepth(1),this.registerAnimations(),this.registerSounds()}update(){const{space:e,down:t}=this.cursors,s=Phaser.Input.Keyboard.JustDown(e),i=Phaser.Input.Keyboard.JustDown(t),a=Phaser.Input.Keyboard.JustUp(t),r=this.body.onFloor();s&&r&&(this.setVelocityY(-1600),this.anims.isPlaying&&this.jumpSound.play()),i&&r&&(this.body.setSize(this.body.width,58),this.setOffset(60,34)),a&&r&&(this.body.setSize(44,92),this.setOffset(20,0)),this.scene.isGameRunning&&(this.body.deltaAbsY()>0?this.anims.stop():this.playRunAnimation())}playRunAnimation(){this.body.height<=58?this.play("dino-down",!0):this.play("dino-run",!0)}registerAnimations(){this.anims.create({key:"dino-run",frames:this.anims.generateFrameNames("dino-run",{start:2,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"dino-down",frames:this.anims.generateFrameNames("dino-down"),frameRate:10,repeat:-1})}registerSounds(){this.jumpSound=this.scene.sound.add("jump",{volume:1}),this.hitSound=this.scene.sound.add("hit",{volume:1})}die(){this.anims.pause(),this.setTexture("dino-hurt"),this.hitSound.play()}}t.Player=s},156:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PRELOAD_CONFIG=void 0;const a=i(s(440)),r=i(s(661)),h=i(s(770));t.PRELOAD_CONFIG={cactusesCount:6,birdsCount:1};const n={type:a.default.AUTO,width:1e3,height:340,pixelArt:!0,transparent:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[r.default,h.default]};new a.default.Game(n)},714:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameScene=void 0;class s extends Phaser.Scene{get gameHeight(){return this.game.config.height}get gameWidth(){return this.game.config.width}constructor(e){super(e),this.isGameRunning=!1}}t.GameScene=s},770:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s(156),a=s(933),r=s(714);class h extends r.GameScene{constructor(){super("PlayScene"),this.score=0,this.scoreInterval=100,this.scoreDeltaTime=0,this.spawnInterval=1500,this.spawnTime=0,this.gameSpeed=5,this.gameSpeedModifier=1}create(){this.createEnvironment(),this.createPlayer(),this.createObstacles(),this.createGameOverContainer(),this.createAnimations(),this.createScore(),this.handleGameStart(),this.handleObstacleCollisions(),this.handleGameRestart(),this.progressSound=this.sound.add("progress",{volume:.1})}update(e,t){if(!this.isGameRunning)return;this.spawnTime+=t,this.scoreDeltaTime+=t,this.scoreDeltaTime>=this.scoreInterval&&(this.score++,this.scoreDeltaTime=0,this.score%100==0&&(this.gameSpeedModifier+=.2,this.progressSound.play(),this.tweens.add({targets:this.scoreText,duration:100,repeat:3,alpha:0,yoyo:!0}))),this.spawnTime>=this.spawnInterval&&(this.spawnObstacle(),this.spawnTime=0),Phaser.Actions.IncX(this.obstacles.getChildren(),-this.gameSpeed*this.gameSpeedModifier),Phaser.Actions.IncX(this.clouds.getChildren(),-.5);const s=Array.from(String(this.score),Number);for(let e=0;e<5-String(this.score).length;e++)s.unshift(0);this.scoreText.setText(s.join("")),this.obstacles.getChildren().forEach((e=>{e.getBounds().right<0&&this.obstacles.remove(e)})),this.clouds.getChildren().forEach((e=>{e.getBounds().right<0&&(e.x=this.gameWidth+30)})),this.ground.tilePositionX+=this.gameSpeed*this.gameSpeedModifier}createPlayer(){this.player=new a.Player(this,0,this.gameHeight),this.player.setGravityY(5e3).setCollideWorldBounds(!0).setBodySize(44,92)}createEnvironment(){this.ground=this.add.tileSprite(0,this.gameHeight,88,26,"ground").setOrigin(0,1),this.clouds=this.add.group(),this.clouds=this.clouds.addMultiple([this.add.image(this.gameWidth/2,170,"cloud"),this.add.image(this.gameWidth-80,80,"cloud"),this.add.image(this.gameWidth/1.3,100,"cloud")]),this.clouds.setAlpha(0)}createObstacles(){this.obstacles=this.physics.add.group()}createGameOverContainer(){this.gameOverText=this.add.image(0,0,"game-over"),this.restartText=this.add.image(0,80,"restart").setInteractive(),this.gameOverContainer=this.add.container(this.gameWidth/2,this.gameHeight/2-50).add([this.gameOverText,this.restartText]).setAlpha(0)}createAnimations(){this.anims.create({key:"enemy-bird-fly",frames:this.anims.generateFrameNumbers("enemy-bird"),frameRate:6,repeat:-1})}createScore(){this.scoreText=this.add.text(this.gameWidth,0,"00000",{fontSize:30,fontFamily:"Arial",color:"#535353",resolution:5}).setOrigin(1,0).setAlpha(0),this.highScoreText=this.add.text(this.scoreText.getBounds().left-25,0,"00000",{fontSize:30,fontFamily:"Arial",color:"#535353",resolution:5}).setOrigin(1,0).setAlpha(0)}spawnObstacle(){const e=i.PRELOAD_CONFIG.cactusesCount+i.PRELOAD_CONFIG.birdsCount,t=Math.floor(Math.random()*e)+1,s=Phaser.Math.Between(150,300);let a;if(t>i.PRELOAD_CONFIG.cactusesCount){const e=[20,70][Math.floor(2*Math.random())];a=this.obstacles.create(this.gameWidth+s,this.gameHeight-e,"enemy-bird"),a.play("enemy-bird-fly",!0)}else a=this.obstacles.create(this.gameWidth+s,this.gameHeight,`obstacle-${t}`);a.setOrigin(0,1).setImmovable()}handleGameStart(){this.startTrigger=this.physics.add.sprite(0,10,null).setAlpha(0).setOrigin(0,1),this.physics.add.overlap(this.startTrigger,this.player,(()=>{if(10===this.startTrigger.y)return void this.startTrigger.body.reset(0,this.gameHeight);this.startTrigger.body.reset(9999,9999);const e=this.time.addEvent({delay:1e3/60,loop:!0,callback:()=>{this.player.playRunAnimation(),this.player.setVelocityX(100),this.ground.width+=34,this.ground.width>=this.gameWidth&&(e.remove(),this.ground.width=this.gameWidth,this.player.setVelocityX(0),this.clouds.setAlpha(1),this.scoreText.setAlpha(1),this.isGameRunning=!0)}})}))}handleGameRestart(){this.restartText.on("pointerdown",(()=>{this.physics.resume(),this.player.setVelocityY(0),this.obstacles.clear(!0,!0),this.gameOverContainer.setAlpha(0),this.anims.resumeAll(),this.isGameRunning=!0}))}handleObstacleCollisions(){this.physics.add.collider(this.obstacles,this.player,(()=>{this.isGameRunning=!1,this.physics.pause(),this.anims.pauseAll(),this.player.die(),this.gameOverContainer.setAlpha(1);const e=this.highScoreText.text.substring(this.highScoreText.text.length-5),t=Number(this.scoreText.text)>=Number(e)?this.scoreText.text:e;this.highScoreText.setText("HI "+t),this.highScoreText.setAlpha(1),this.spawnTime=0,this.score=0,this.scoreDeltaTime=0,this.gameSpeedModifier=1}))}}t.default=h},661:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(s(440)),r=s(156);class h extends a.default.Scene{constructor(){super("PreloadScene")}preload(){this.load.image("ground","assets/ground.png"),this.load.image("dino-idle","assets/dino-idle-2.png"),this.load.image("dino-hurt","assets/dino-hurt.png"),this.load.image("restart","assets/restart.png"),this.load.image("game-over","assets/game-over.png"),this.load.image("cloud","assets/cloud.png"),this.load.audio("jump","assets/jump.m4a"),this.load.audio("hit","assets/hit.m4a"),this.load.audio("progress","assets/reach.m4a");for(let e=0;e<r.PRELOAD_CONFIG.cactusesCount;e++){const t=e+1;this.load.image(`obstacle-${t}`,`assets/cactuses_${t}.png`)}this.load.spritesheet("dino-run","assets/dino-run.png",{frameWidth:88,frameHeight:94}),this.load.spritesheet("dino-down","assets/dino-down-2.png",{frameWidth:118,frameHeight:94}),this.load.spritesheet("enemy-bird","assets/enemy-bird.png",{frameWidth:92,frameHeight:77})}create(){this.scene.start("PlayScene")}}t.default=h}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,s,a,r)=>{if(!s){var h=1/0;for(l=0;l<e.length;l++){for(var[s,a,r]=e[l],n=!0,o=0;o<s.length;o++)(!1&r||h>=r)&&Object.keys(i.O).every((e=>i.O[e](s[o])))?s.splice(o--,1):(n=!1,r<h&&(h=r));if(n){e.splice(l--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[s,a,r]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={524:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,[h,n,o]=s,d=0;if(h.some((t=>0!==e[t]))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var l=o(i)}for(t&&t(s);d<h.length;d++)r=h[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(l)},s=self.webpackChunkphaser_webpack_boilerplate=self.webpackChunkphaser_webpack_boilerplate||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[121],(()=>i(156)));a=i.O(a)})();